<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating Collection Views | MAD9137-F2020</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="iOS App Development">
    <link rel="preload" href="/F2020/assets/css/0.styles.a9e3dc67.css" as="style"><link rel="preload" href="/F2020/assets/js/app.255cbd1a.js" as="script"><link rel="preload" href="/F2020/assets/js/2.6629548a.js" as="script"><link rel="preload" href="/F2020/assets/js/40.d357ee1d.js" as="script"><link rel="prefetch" href="/F2020/assets/js/10.f0d35086.js"><link rel="prefetch" href="/F2020/assets/js/100.313abe5d.js"><link rel="prefetch" href="/F2020/assets/js/101.e78c32e2.js"><link rel="prefetch" href="/F2020/assets/js/102.d8fed8ad.js"><link rel="prefetch" href="/F2020/assets/js/103.e4ae4182.js"><link rel="prefetch" href="/F2020/assets/js/104.6f57cf87.js"><link rel="prefetch" href="/F2020/assets/js/105.7207033a.js"><link rel="prefetch" href="/F2020/assets/js/106.060e0c00.js"><link rel="prefetch" href="/F2020/assets/js/107.4603fcb0.js"><link rel="prefetch" href="/F2020/assets/js/108.6b4ac7b6.js"><link rel="prefetch" href="/F2020/assets/js/109.9c949bf2.js"><link rel="prefetch" href="/F2020/assets/js/11.f0498a0b.js"><link rel="prefetch" href="/F2020/assets/js/110.da3431d5.js"><link rel="prefetch" href="/F2020/assets/js/111.17da6928.js"><link rel="prefetch" href="/F2020/assets/js/112.c655b676.js"><link rel="prefetch" href="/F2020/assets/js/113.3ca61359.js"><link rel="prefetch" href="/F2020/assets/js/114.9b6101d8.js"><link rel="prefetch" href="/F2020/assets/js/115.2c6c295a.js"><link rel="prefetch" href="/F2020/assets/js/116.596bac3c.js"><link rel="prefetch" href="/F2020/assets/js/117.fb1ee880.js"><link rel="prefetch" href="/F2020/assets/js/118.90d9c781.js"><link rel="prefetch" href="/F2020/assets/js/12.bf72e809.js"><link rel="prefetch" href="/F2020/assets/js/13.958cc2bd.js"><link rel="prefetch" href="/F2020/assets/js/14.3610e7f2.js"><link rel="prefetch" href="/F2020/assets/js/15.d2b91380.js"><link rel="prefetch" href="/F2020/assets/js/16.e49a2ead.js"><link rel="prefetch" href="/F2020/assets/js/17.9f4fb0ae.js"><link rel="prefetch" href="/F2020/assets/js/18.268c075e.js"><link rel="prefetch" href="/F2020/assets/js/19.3cc617b2.js"><link rel="prefetch" href="/F2020/assets/js/20.a95a1241.js"><link rel="prefetch" href="/F2020/assets/js/21.ce4394d8.js"><link rel="prefetch" href="/F2020/assets/js/22.f72eb1b6.js"><link rel="prefetch" href="/F2020/assets/js/23.befff117.js"><link rel="prefetch" href="/F2020/assets/js/24.84dd70d7.js"><link rel="prefetch" href="/F2020/assets/js/25.97d45632.js"><link rel="prefetch" href="/F2020/assets/js/26.276daa11.js"><link rel="prefetch" href="/F2020/assets/js/27.00798bd1.js"><link rel="prefetch" href="/F2020/assets/js/28.e2b98a9f.js"><link rel="prefetch" href="/F2020/assets/js/29.86746147.js"><link rel="prefetch" href="/F2020/assets/js/3.56e1c820.js"><link rel="prefetch" href="/F2020/assets/js/30.e598427d.js"><link rel="prefetch" href="/F2020/assets/js/31.e6743e9b.js"><link rel="prefetch" href="/F2020/assets/js/32.cfa0ffb1.js"><link rel="prefetch" href="/F2020/assets/js/33.02fc8084.js"><link rel="prefetch" href="/F2020/assets/js/34.8d43e2a7.js"><link rel="prefetch" href="/F2020/assets/js/35.c37ee689.js"><link rel="prefetch" href="/F2020/assets/js/36.6785141d.js"><link rel="prefetch" href="/F2020/assets/js/37.a49a3b07.js"><link rel="prefetch" href="/F2020/assets/js/38.11ed7974.js"><link rel="prefetch" href="/F2020/assets/js/39.403bfa1a.js"><link rel="prefetch" href="/F2020/assets/js/4.a6a062fb.js"><link rel="prefetch" href="/F2020/assets/js/41.d6e6fb2f.js"><link rel="prefetch" href="/F2020/assets/js/42.63073b9d.js"><link rel="prefetch" href="/F2020/assets/js/43.e05caa8e.js"><link rel="prefetch" href="/F2020/assets/js/44.b9065ed2.js"><link rel="prefetch" href="/F2020/assets/js/45.f96a24d2.js"><link rel="prefetch" href="/F2020/assets/js/46.063f7ba5.js"><link rel="prefetch" href="/F2020/assets/js/47.c535a809.js"><link rel="prefetch" href="/F2020/assets/js/48.6d67d583.js"><link rel="prefetch" href="/F2020/assets/js/49.ff937964.js"><link rel="prefetch" href="/F2020/assets/js/5.db53b249.js"><link rel="prefetch" href="/F2020/assets/js/50.8d79f6a7.js"><link rel="prefetch" href="/F2020/assets/js/51.44f7e464.js"><link rel="prefetch" href="/F2020/assets/js/52.5db13139.js"><link rel="prefetch" href="/F2020/assets/js/53.114fa10a.js"><link rel="prefetch" href="/F2020/assets/js/54.1157584a.js"><link rel="prefetch" href="/F2020/assets/js/55.b01ba0f7.js"><link rel="prefetch" href="/F2020/assets/js/56.0d589b95.js"><link rel="prefetch" href="/F2020/assets/js/57.30a4771a.js"><link rel="prefetch" href="/F2020/assets/js/58.cdf3a991.js"><link rel="prefetch" href="/F2020/assets/js/59.085e6455.js"><link rel="prefetch" href="/F2020/assets/js/6.1e8126bd.js"><link rel="prefetch" href="/F2020/assets/js/60.030892b0.js"><link rel="prefetch" href="/F2020/assets/js/61.1a07ef59.js"><link rel="prefetch" href="/F2020/assets/js/62.e1d2c18c.js"><link rel="prefetch" href="/F2020/assets/js/63.0ba6e154.js"><link rel="prefetch" href="/F2020/assets/js/64.bf2c3739.js"><link rel="prefetch" href="/F2020/assets/js/65.c810566f.js"><link rel="prefetch" href="/F2020/assets/js/66.67deac8c.js"><link rel="prefetch" href="/F2020/assets/js/67.08be0356.js"><link rel="prefetch" href="/F2020/assets/js/68.e7ea9abe.js"><link rel="prefetch" href="/F2020/assets/js/69.e7a64b97.js"><link rel="prefetch" href="/F2020/assets/js/7.f71a4e05.js"><link rel="prefetch" href="/F2020/assets/js/70.2b5c7b00.js"><link rel="prefetch" href="/F2020/assets/js/71.3a401a88.js"><link rel="prefetch" href="/F2020/assets/js/72.487e85fc.js"><link rel="prefetch" href="/F2020/assets/js/73.07675a6f.js"><link rel="prefetch" href="/F2020/assets/js/74.67a5d3a6.js"><link rel="prefetch" href="/F2020/assets/js/75.e6405f04.js"><link rel="prefetch" href="/F2020/assets/js/76.f303ce9e.js"><link rel="prefetch" href="/F2020/assets/js/77.e7257385.js"><link rel="prefetch" href="/F2020/assets/js/78.54aad2dc.js"><link rel="prefetch" href="/F2020/assets/js/79.62e44747.js"><link rel="prefetch" href="/F2020/assets/js/8.ce844d95.js"><link rel="prefetch" href="/F2020/assets/js/80.c43d0bbb.js"><link rel="prefetch" href="/F2020/assets/js/81.02db2fa9.js"><link rel="prefetch" href="/F2020/assets/js/82.492fb2e4.js"><link rel="prefetch" href="/F2020/assets/js/83.5bfb75e4.js"><link rel="prefetch" href="/F2020/assets/js/84.1c1582ad.js"><link rel="prefetch" href="/F2020/assets/js/85.96857d04.js"><link rel="prefetch" href="/F2020/assets/js/86.7ce62520.js"><link rel="prefetch" href="/F2020/assets/js/87.98824bdd.js"><link rel="prefetch" href="/F2020/assets/js/88.bd2f7ebc.js"><link rel="prefetch" href="/F2020/assets/js/89.652eba80.js"><link rel="prefetch" href="/F2020/assets/js/9.c07e0046.js"><link rel="prefetch" href="/F2020/assets/js/90.5f732538.js"><link rel="prefetch" href="/F2020/assets/js/91.9d7e4794.js"><link rel="prefetch" href="/F2020/assets/js/92.d94a5cb0.js"><link rel="prefetch" href="/F2020/assets/js/93.7a4396ed.js"><link rel="prefetch" href="/F2020/assets/js/94.dc0b7aae.js"><link rel="prefetch" href="/F2020/assets/js/95.3195b17d.js"><link rel="prefetch" href="/F2020/assets/js/96.cb1bda2b.js"><link rel="prefetch" href="/F2020/assets/js/97.a3a1d930.js"><link rel="prefetch" href="/F2020/assets/js/98.5eedb231.js"><link rel="prefetch" href="/F2020/assets/js/99.1fef4ce1.js">
    <link rel="stylesheet" href="/F2020/assets/css/0.styles.a9e3dc67.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2020/" class="home-link router-link-active"><!----> <span class="site-name">MAD9137-F2020</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assessments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assessments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2020/modules/week1/" class="sidebar-link">Week 1 Summary</a></li><li><a href="/F2020/modules/week2/" class="sidebar-link">Week 2 Summary</a></li><li><a href="/F2020/modules/week3/" class="sidebar-link">Week 3 Summary</a></li><li><a href="/F2020/modules/week4/" class="sidebar-link">Week 4 Summary</a></li><li><a href="/F2020/modules/week5/" class="sidebar-link">Week 5 Summary</a></li><li><a href="/F2020/modules/week6/" class="sidebar-link">Week 6 Summary</a></li><li><a href="/F2020/modules/week7/" class="sidebar-link">Week 7 Summary</a></li><li><a href="/F2020/modules/week8/" class="sidebar-link">Week 8 Summary</a></li><li><a href="/F2020/modules/week9/" class="sidebar-link">Week 9 Summary</a></li><li><a href="/F2020/modules/week10/" aria-current="page" class="sidebar-link">Week 10 Summary</a></li><li><a href="/F2020/modules/week11/" class="sidebar-link">Week 11 Summary</a></li><li><a href="/F2020/modules/week12/" class="sidebar-link">Week 12 Summary</a></li><li><a href="/F2020/modules/week13/" class="sidebar-link">Week 13 Summary</a></li><li><a href="/F2020/modules/week14/" class="sidebar-link">Week 14 Summary</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deliverables</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-collection-views">Creating Collection Views</h1> <h2 id="what-is-a-collection-view">What is a Collection View</h2> <p>A Collection view is a scrollable view controller similar to a Table View but with one major difference.  Instead of having each piece of information represented as a fixed row (or cell) in a vertical-scrolling column within the table, a Collection View has a customizable shape for it's cells.</p> <p>A Collection View can also stack it's cells in a customizable grid instead of a fixed set of vertically stacked rows, although you can choose to lay the cells out in such a layout if you would like to.  The grid of cells can be set to scroll vertically, or horizontally with one or more number of cells per row/column.</p> <p>Due to the level of flexibility the Collection View offers, you will always use a custom CollectionViewCell class to define the cells of your Collection View.</p> <h2 id="set-up-for-this-example-project">Set-Up for This Example Project</h2> <p>For this example we will reuse the the images from the Table View lessons.  You can <a href="/F2020/assets/downloads/ImageAssets.zip">downloading this zip file</a> containing test images to work with.  After unzipping the images to a folder on your computer, you will need to add them to your Assets.xcassets folder in your project.</p> <p><img src="/F2020/assets/img/CollectionView_01.png" alt="Collection View"></p> <p>We will also be using the UserInfo class from before in this lesson, so import (or recreate) it in this project.</p> <p><img src="/F2020/assets/img/CollectionView_02.png" alt="Collection View"></p> <h2 id="setting-up-the-collection-view">Setting Up the Collection View</h2> <p>This section will detail how to set up a collection View Controller, along with the required Collection View Cell.  First we will need to add a custom CollectionViewController class to our project.</p> <p><img src="/F2020/assets/img/CollectionView_03.png" alt="Collection View"></p> <p>Because you are required to create a custom Collection View Cell you will need to also create a new CollectionViewCell class file as well.</p> <p><img src="/F2020/assets/img/CollectionView_04.png" alt="Collection View"></p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>You must make sure you are selecting the correct 'Subclass of' options when you create your classes to assure you are not introducing errors into your project.</p></div> <p>Now that you have the needed classes, you need to add a Collection View to your storyboard.  The following shows what the Collection View looks like in the storyboard library.</p> <p><img src="/F2020/assets/img/CollectionView_05.png" alt="Collection View"></p> <p>After adding it to the storyboard in this example, you need to set it as the initial view controller.  You can do this by dragging the entry point arrow from one view to the next, or checking the &quot;Is Initial View Controller&quot; option in the Attributes Inspector when you have the Collection View Controller selected.</p> <p><img src="/F2020/assets/img/CollectionView_06.png" alt="Collection View"></p> <p>Then you must set the class of the Collection View Controller to use the custom class you have created.  Select the Collection View Controller and open the Identity Inspector and set the class to use your custom <strong>CollectionViewController</strong> class name.</p> <p><img src="/F2020/assets/img/CollectionView_07.png" alt="Collection View"></p> <p>Next you must select the Collection View Cell by clicking on the small box in the upper-left corner of the Collection View Controller.  Then, in the Identity Inspector and set the class to use your custom <strong>CollectionViewCell</strong> class name.</p> <p><img src="/F2020/assets/img/CollectionView_08.png" alt="Collection View"></p> <h2 id="customize-the-collection-view-cell">Customize the Collection View Cell</h2> <p>The next steps will be to setup the Collection View Cell with a custom layout and connect it to the custom class file that was created for it.</p> <p>The first thing to remember to do is give your cell a Reuse Identifier name.  Select the cell and enter the identifier in the filed atop the Attributes Inspector.</p> <p><img src="/F2020/assets/img/CollectionView_09.png" alt="Collection View"></p> <p>Depending on the design, you will probably want to increase the size of the cell in the storyboard just to give more space to work with.  With the cell selected, open the Size Inspector and change the Size parameter from Automatic to Custom.  Then choose a width and height that works for you, in this case both have been set to 180.</p> <p><img src="/F2020/assets/img/CollectionView_10.png" alt="Collection View"></p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>You can also change the shape of the cell by simply selecting the cell, and dragging the anchors on the bottom, right and corner.  This will change the size to Custom automatically.</p></div> <p>The size you have set here (180 x 180) is not going to be the final size of the cells, but will be big enough to help you layout the UI objects in the collectionViewCell.  You will be changing the size of the cells in code programmatically so we need to tell the collectionView to not automatically estimate the size the cells for us.</p> <p>To do this we need to click on, and select the CollectionView itself (and <strong>not</strong> the CollectionViewController).  Then open the size inspector and set the <strong>Estimate Size</strong> value to &quot;None&quot; (by default it is set to &quot;Automatic&quot;).</p> <p><img src="/F2020/assets/img/CollectionView_11.png" alt="Collection View"></p> <p>After this, you can now start to populate the cell with the needed UI objects as needed by dragging them from the library into the cell.  In this example we have added an ImageView and two labels.</p> <p><img src="/F2020/assets/img/CollectionView_12.png" alt="Collection View"></p> <p>Now you are ready to connect these UI objects to your custom class file.  Split the editor to view the code beside the storyboard and make the IBOutlet connects by holding the control key while you click and drag the connection to your code.</p> <p><img src="/F2020/assets/img/CollectionView_13.png" alt="Collection View"></p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>You will need to add constraints to the cell's UI objects in order to make them fit correctly in the cell as it changes size for different devices depending on your layout.  You will also want to set the <strong>Autoshrink</strong> option to &quot;Minimum Font Scale&quot; for the two cell labels in the Attributes inspector.</p></div> <h2 id="coding-the-collection-view-controller-class">Coding the Collection View Controller Class</h2> <h3 id="prepare-the-class">Prepare the Class</h3> <p>Looking at the code within the CollectionViewController, you will see there are many functions that come built in to this class.  Many of the important ones are written for you and left commented out.</p> <p>By default, there are two line of code that are in this class on line 11 and 22 (as of the writing of this lesson).  We will <strong>not</strong> need these lines of code, and can comment them out.</p> <p>You should comment out this:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// private let reuseIdentifier = &quot;Cell&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>and this:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// self.collectionView!.register(UICollectionViewCell.self, forCellWithReuseIdentifier: reuseIdentifier)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>line of code as we are using our own Reuse Identifier we gave to the customized cell in the storyboard.</p> <p>We will also add the array of UserInfo objects inside the custom CollectionViewController class that will be used to test with:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> namesArray<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">UserInfo</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Jon&quot;</span><span class="token punctuation">,</span>   email<span class="token punctuation">:</span> <span class="token string">&quot;jon@gmail.com&quot;</span><span class="token punctuation">,</span>   imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-r-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>  email<span class="token punctuation">:</span> <span class="token string">&quot;jane@gmail.com&quot;</span><span class="token punctuation">,</span>  imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-g-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Pam&quot;</span><span class="token punctuation">,</span>   email<span class="token punctuation">:</span> <span class="token string">&quot;pam@gmail.com&quot;</span><span class="token punctuation">,</span>   imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-b-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Steve&quot;</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">&quot;steve@gmail.com&quot;</span><span class="token punctuation">,</span> imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-c-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Gerry&quot;</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">&quot;gerry@gmail.com&quot;</span><span class="token punctuation">,</span> imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-m-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Anna&quot;</span><span class="token punctuation">,</span>  email<span class="token punctuation">:</span> <span class="token string">&quot;anna@gmail.com&quot;</span><span class="token punctuation">,</span>  imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-y-100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">UserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span>   email<span class="token punctuation">:</span> <span class="token string">&quot;bob@gmail.com&quot;</span><span class="token punctuation">,</span>   imageName<span class="token punctuation">:</span> <span class="token string">&quot;pic-k-100&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="set-the-cell-s-shape-to-fit-evenly-on-the-screen">Set the Cell's Shape to Fit Evenly on the Screen</h3> <p>It is required to set the width and height of the cells to properly have them fit evenly within bounds of the CollectionView.  To do this you must decide how many cells you want to display in each row, and how much space you want between each cell.</p> <p>Doing this programmatically will let the cells always be the right shape, with the correct padding between each one regardless of what screen it is viewed on.  Let us assume we want to have 3 cells per row with 10 units of space between each cell.  This is done within the viewDidLoad() function of the class.</p> <h3 id="define-the-number-of-cells-in-each-section">Define the Number of Cells in Each Section</h3> <p>Like with TableViews, you need to define the number of sections in the CollectionView, and the number of cells in each section.  This is done with a set of functions that look veery similar to those found in the TableView class.</p> <p>For this example you will use a single section, and you will use the count of the array of UserInfo objects to define the number of cells.</p> <h3 id="define-the-content-of-each-cell">Define the Content of Each Cell</h3> <p>In a CollectionView you define the content in each cell similarly to the way it is done in a TableView.  There is a function called <code>override func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell {}</code> where you gain access to each cell as it is being created.</p> <p>By default this function is written with the line of code to get access to the current cell being create that looks like this <code>let cell = collectionView.dequeueReusableCell(withReuseIdentifier: reuseIdentifier, for: indexPath)</code>.  This function is using the variable that you commented out at the beginning of this class called <code>reuseIdentifier</code> which needs to be changed to the Reuse Identifier used in the storyboard, in this case it was &quot;MyCell&quot;.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>You must also cast the cell as your custom class in order to have access to the UI objects you have laid out.</p></div> <p>After this you can use the array information to set the UI objects you added to your custom cell.  After you configure the cell there is a line of code that returns the cell from this function to be added to the CollectionView.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>When you cast the cell to your custom CollectionViewCell class it produces an optional variable, so it must be unwrapped to safely return it from this function.</p></div> <p>The following image shows all of these modifications made to the custom CollectionViewController file:</p> <p><img src="/F2020/assets/img/CollectionView_14.png" alt="Collection View"></p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>All of the superfluous lines of code have been removed in order to make this fit in a single screenshot.</p></div> <h3 id="clicking-on-a-cell-and-passing-data-to-another-viewcontroller">Clicking on a Cell, and Passing Data to Another ViewController</h3> <p>Lets assume you have create a second ViewController to pass some UserInfo object to.  Assuming this view has an image and two labels to display the contents of the UserInfo, and a button to unwind the segue, the associated ViewController class might look like this:</p> <p><img src="/F2020/assets/img/CollectionView_15.png" alt="Collection View"></p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>In this example the segue will be connected directly from the CollectionViewCell to the next ViewController, and the segue Identifier will be called &quot;ShowSecondView&quot; in the storyboard.</p></div> <p>Back in the CollectionViewController class you will need to write some code in the <code>override func prepare(for segue: UIStoryboardSegue, sender: Any?) {}</code> function to get the index path for the selected cell, get a reference to the next ViewController and pass the object from the array to the <code>selectedUser</code> variable.  This code would look like this:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token keyword">for</span> segue<span class="token punctuation">:</span> <span class="token builtin">UIStoryboardSegue</span><span class="token punctuation">,</span> sender<span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Detect if the correct segue is triggered by checking the identifyer</span>
    <span class="token keyword">if</span> segue<span class="token punctuation">.</span>identifier <span class="token operator">==</span> <span class="token string">&quot;ShowSecondView&quot;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Get the index for the current selected cell</span>
        <span class="token keyword">let</span> myIndexPath <span class="token operator">=</span> collectionView<span class="token punctuation">.</span>indexPathsForSelectedItems<span class="token operator">!</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token comment">// Get a reference to the next ViewController</span>
        <span class="token keyword">let</span> nextViewController <span class="token operator">=</span> segue<span class="token punctuation">.</span>destination <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">ViewController</span>
        <span class="token comment">// Pass the correct UserInfo object from the array to the variable in the next view</span>
        nextViewController<span class="token operator">?</span><span class="token punctuation">.</span>selectedUser <span class="token operator">=</span> namesArray<span class="token punctuation">[</span>myIndexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The value retrieved from the <code>collectionView.indexPathsForSelectedItems</code> value is an array so you must access the first element in order to get the current selected cell.  This will allow you to correctly identify what array element to pass to the next ViewController so it's info can be properly displayed.</p> <p><a href="/F2020/modules/week10/#during-class">Back to Week 10</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/20/2020, 4:43:49 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/F2020/assets/js/app.255cbd1a.js" defer></script><script src="/F2020/assets/js/2.6629548a.js" defer></script><script src="/F2020/assets/js/40.d357ee1d.js" defer></script>
  </body>
</html>
