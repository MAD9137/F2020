<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic HTTP Access Authentication | MAD9137-F2020</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="iOS App Development">
    <link rel="preload" href="/F2020/assets/css/0.styles.a9e3dc67.css" as="style"><link rel="preload" href="/F2020/assets/js/app.255cbd1a.js" as="script"><link rel="preload" href="/F2020/assets/js/2.6629548a.js" as="script"><link rel="preload" href="/F2020/assets/js/53.114fa10a.js" as="script"><link rel="prefetch" href="/F2020/assets/js/10.f0d35086.js"><link rel="prefetch" href="/F2020/assets/js/100.313abe5d.js"><link rel="prefetch" href="/F2020/assets/js/101.e78c32e2.js"><link rel="prefetch" href="/F2020/assets/js/102.d8fed8ad.js"><link rel="prefetch" href="/F2020/assets/js/103.e4ae4182.js"><link rel="prefetch" href="/F2020/assets/js/104.6f57cf87.js"><link rel="prefetch" href="/F2020/assets/js/105.7207033a.js"><link rel="prefetch" href="/F2020/assets/js/106.060e0c00.js"><link rel="prefetch" href="/F2020/assets/js/107.4603fcb0.js"><link rel="prefetch" href="/F2020/assets/js/108.6b4ac7b6.js"><link rel="prefetch" href="/F2020/assets/js/109.9c949bf2.js"><link rel="prefetch" href="/F2020/assets/js/11.f0498a0b.js"><link rel="prefetch" href="/F2020/assets/js/110.da3431d5.js"><link rel="prefetch" href="/F2020/assets/js/111.17da6928.js"><link rel="prefetch" href="/F2020/assets/js/112.c655b676.js"><link rel="prefetch" href="/F2020/assets/js/113.3ca61359.js"><link rel="prefetch" href="/F2020/assets/js/114.9b6101d8.js"><link rel="prefetch" href="/F2020/assets/js/115.2c6c295a.js"><link rel="prefetch" href="/F2020/assets/js/116.596bac3c.js"><link rel="prefetch" href="/F2020/assets/js/117.fb1ee880.js"><link rel="prefetch" href="/F2020/assets/js/118.90d9c781.js"><link rel="prefetch" href="/F2020/assets/js/12.bf72e809.js"><link rel="prefetch" href="/F2020/assets/js/13.958cc2bd.js"><link rel="prefetch" href="/F2020/assets/js/14.3610e7f2.js"><link rel="prefetch" href="/F2020/assets/js/15.d2b91380.js"><link rel="prefetch" href="/F2020/assets/js/16.e49a2ead.js"><link rel="prefetch" href="/F2020/assets/js/17.9f4fb0ae.js"><link rel="prefetch" href="/F2020/assets/js/18.268c075e.js"><link rel="prefetch" href="/F2020/assets/js/19.3cc617b2.js"><link rel="prefetch" href="/F2020/assets/js/20.a95a1241.js"><link rel="prefetch" href="/F2020/assets/js/21.ce4394d8.js"><link rel="prefetch" href="/F2020/assets/js/22.f72eb1b6.js"><link rel="prefetch" href="/F2020/assets/js/23.befff117.js"><link rel="prefetch" href="/F2020/assets/js/24.84dd70d7.js"><link rel="prefetch" href="/F2020/assets/js/25.97d45632.js"><link rel="prefetch" href="/F2020/assets/js/26.276daa11.js"><link rel="prefetch" href="/F2020/assets/js/27.00798bd1.js"><link rel="prefetch" href="/F2020/assets/js/28.e2b98a9f.js"><link rel="prefetch" href="/F2020/assets/js/29.86746147.js"><link rel="prefetch" href="/F2020/assets/js/3.56e1c820.js"><link rel="prefetch" href="/F2020/assets/js/30.e598427d.js"><link rel="prefetch" href="/F2020/assets/js/31.e6743e9b.js"><link rel="prefetch" href="/F2020/assets/js/32.cfa0ffb1.js"><link rel="prefetch" href="/F2020/assets/js/33.02fc8084.js"><link rel="prefetch" href="/F2020/assets/js/34.8d43e2a7.js"><link rel="prefetch" href="/F2020/assets/js/35.c37ee689.js"><link rel="prefetch" href="/F2020/assets/js/36.6785141d.js"><link rel="prefetch" href="/F2020/assets/js/37.a49a3b07.js"><link rel="prefetch" href="/F2020/assets/js/38.11ed7974.js"><link rel="prefetch" href="/F2020/assets/js/39.403bfa1a.js"><link rel="prefetch" href="/F2020/assets/js/4.a6a062fb.js"><link rel="prefetch" href="/F2020/assets/js/40.d357ee1d.js"><link rel="prefetch" href="/F2020/assets/js/41.d6e6fb2f.js"><link rel="prefetch" href="/F2020/assets/js/42.63073b9d.js"><link rel="prefetch" href="/F2020/assets/js/43.e05caa8e.js"><link rel="prefetch" href="/F2020/assets/js/44.b9065ed2.js"><link rel="prefetch" href="/F2020/assets/js/45.f96a24d2.js"><link rel="prefetch" href="/F2020/assets/js/46.063f7ba5.js"><link rel="prefetch" href="/F2020/assets/js/47.c535a809.js"><link rel="prefetch" href="/F2020/assets/js/48.6d67d583.js"><link rel="prefetch" href="/F2020/assets/js/49.ff937964.js"><link rel="prefetch" href="/F2020/assets/js/5.db53b249.js"><link rel="prefetch" href="/F2020/assets/js/50.8d79f6a7.js"><link rel="prefetch" href="/F2020/assets/js/51.44f7e464.js"><link rel="prefetch" href="/F2020/assets/js/52.5db13139.js"><link rel="prefetch" href="/F2020/assets/js/54.1157584a.js"><link rel="prefetch" href="/F2020/assets/js/55.b01ba0f7.js"><link rel="prefetch" href="/F2020/assets/js/56.0d589b95.js"><link rel="prefetch" href="/F2020/assets/js/57.30a4771a.js"><link rel="prefetch" href="/F2020/assets/js/58.cdf3a991.js"><link rel="prefetch" href="/F2020/assets/js/59.085e6455.js"><link rel="prefetch" href="/F2020/assets/js/6.1e8126bd.js"><link rel="prefetch" href="/F2020/assets/js/60.030892b0.js"><link rel="prefetch" href="/F2020/assets/js/61.1a07ef59.js"><link rel="prefetch" href="/F2020/assets/js/62.e1d2c18c.js"><link rel="prefetch" href="/F2020/assets/js/63.0ba6e154.js"><link rel="prefetch" href="/F2020/assets/js/64.bf2c3739.js"><link rel="prefetch" href="/F2020/assets/js/65.c810566f.js"><link rel="prefetch" href="/F2020/assets/js/66.67deac8c.js"><link rel="prefetch" href="/F2020/assets/js/67.08be0356.js"><link rel="prefetch" href="/F2020/assets/js/68.e7ea9abe.js"><link rel="prefetch" href="/F2020/assets/js/69.e7a64b97.js"><link rel="prefetch" href="/F2020/assets/js/7.f71a4e05.js"><link rel="prefetch" href="/F2020/assets/js/70.2b5c7b00.js"><link rel="prefetch" href="/F2020/assets/js/71.3a401a88.js"><link rel="prefetch" href="/F2020/assets/js/72.487e85fc.js"><link rel="prefetch" href="/F2020/assets/js/73.07675a6f.js"><link rel="prefetch" href="/F2020/assets/js/74.67a5d3a6.js"><link rel="prefetch" href="/F2020/assets/js/75.e6405f04.js"><link rel="prefetch" href="/F2020/assets/js/76.f303ce9e.js"><link rel="prefetch" href="/F2020/assets/js/77.e7257385.js"><link rel="prefetch" href="/F2020/assets/js/78.54aad2dc.js"><link rel="prefetch" href="/F2020/assets/js/79.62e44747.js"><link rel="prefetch" href="/F2020/assets/js/8.ce844d95.js"><link rel="prefetch" href="/F2020/assets/js/80.c43d0bbb.js"><link rel="prefetch" href="/F2020/assets/js/81.02db2fa9.js"><link rel="prefetch" href="/F2020/assets/js/82.492fb2e4.js"><link rel="prefetch" href="/F2020/assets/js/83.5bfb75e4.js"><link rel="prefetch" href="/F2020/assets/js/84.1c1582ad.js"><link rel="prefetch" href="/F2020/assets/js/85.96857d04.js"><link rel="prefetch" href="/F2020/assets/js/86.7ce62520.js"><link rel="prefetch" href="/F2020/assets/js/87.98824bdd.js"><link rel="prefetch" href="/F2020/assets/js/88.bd2f7ebc.js"><link rel="prefetch" href="/F2020/assets/js/89.652eba80.js"><link rel="prefetch" href="/F2020/assets/js/9.c07e0046.js"><link rel="prefetch" href="/F2020/assets/js/90.5f732538.js"><link rel="prefetch" href="/F2020/assets/js/91.9d7e4794.js"><link rel="prefetch" href="/F2020/assets/js/92.d94a5cb0.js"><link rel="prefetch" href="/F2020/assets/js/93.7a4396ed.js"><link rel="prefetch" href="/F2020/assets/js/94.dc0b7aae.js"><link rel="prefetch" href="/F2020/assets/js/95.3195b17d.js"><link rel="prefetch" href="/F2020/assets/js/96.cb1bda2b.js"><link rel="prefetch" href="/F2020/assets/js/97.a3a1d930.js"><link rel="prefetch" href="/F2020/assets/js/98.5eedb231.js"><link rel="prefetch" href="/F2020/assets/js/99.1fef4ce1.js">
    <link rel="stylesheet" href="/F2020/assets/css/0.styles.a9e3dc67.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2020/" class="home-link router-link-active"><!----> <span class="site-name">MAD9137-F2020</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assessments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assessments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2020/modules/week1/" class="sidebar-link">Week 1 Summary</a></li><li><a href="/F2020/modules/week2/" class="sidebar-link">Week 2 Summary</a></li><li><a href="/F2020/modules/week3/" class="sidebar-link">Week 3 Summary</a></li><li><a href="/F2020/modules/week4/" class="sidebar-link">Week 4 Summary</a></li><li><a href="/F2020/modules/week5/" class="sidebar-link">Week 5 Summary</a></li><li><a href="/F2020/modules/week6/" class="sidebar-link">Week 6 Summary</a></li><li><a href="/F2020/modules/week7/" class="sidebar-link">Week 7 Summary</a></li><li><a href="/F2020/modules/week8/" class="sidebar-link">Week 8 Summary</a></li><li><a href="/F2020/modules/week9/" class="sidebar-link">Week 9 Summary</a></li><li><a href="/F2020/modules/week10/" class="sidebar-link">Week 10 Summary</a></li><li><a href="/F2020/modules/week11/" class="sidebar-link">Week 11 Summary</a></li><li><a href="/F2020/modules/week12/" aria-current="page" class="sidebar-link">Week 12 Summary</a></li><li><a href="/F2020/modules/week13/" class="sidebar-link">Week 13 Summary</a></li><li><a href="/F2020/modules/week14/" class="sidebar-link">Week 14 Summary</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deliverables</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="basic-http-access-authentication">Basic HTTP Access Authentication</h1> <p>With modern RESTful web services, it is common for the server to be protected with some kind of network security (like the AAA process) that requires authentication to access the server contents.  This means the client application making the URL request must include the authentication information in the header of the URLRequest in order to gain access to the requested resource.</p> <p>AAA server security process requires the server resources to do the following:</p> <ul><li>Authentication – Requires the user to identify using a login and password with encryption.</li> <li>Authorization – Requires the user to have permission to access resources.</li> <li>Accounting – Requires the server to record user actions.</li></ul> <p>When building an application that requires server authentication, you are required to add a specific HTTP request header field in order to request access to the server’s information.  This lesson will teach you how to add custom header information into your URLRequest so you can authenticate with the server.  The header of your URLRequest must be modified after you create the URLRequest object, and before you use it to create the dataTask.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>This example is <strong>very</strong> basic, and only shows how to add content to the URLRequest header.  True authentication for different servers will require a unique, prescribed set of parameters set in the header which is designed by the developers of the server-side code.</p></div> <p>The following code is an example of making, and sending, a simple request to a server; similar to what you have seen in previous lessons.</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Create a url set to the desired server address</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> myUrl<span class="token punctuation">:</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string">&quot;https://lenczes.edumedia.ca/mad9137/httpAuthentication/authRespond.php&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Create the request object passing it the url object</span>
    <span class="token keyword">var</span> myURLRequest<span class="token punctuation">:</span> <span class="token builtin">URLRequest</span> <span class="token operator">=</span> <span class="token function">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> myUrl<span class="token punctuation">)</span>
    
    <span class="token comment">// Create the URLSession object that will be used to make the requests</span>
    <span class="token keyword">let</span> mySession<span class="token punctuation">:</span> <span class="token builtin">URLSession</span> <span class="token operator">=</span> <span class="token builtin">URLSession</span><span class="token punctuation">.</span>shared

    <span class="token comment">// Create a task from the session by passing in your request, and the callback handler</span>
    <span class="token keyword">let</span> myTask <span class="token operator">=</span> mySession<span class="token punctuation">.</span><span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> myURLRequest<span class="token punctuation">,</span> completionHandler<span class="token punctuation">:</span> requestTask <span class="token punctuation">)</span>

<span class="token comment">// Tell the task to run</span>
myTask<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>This pattern of code showed how to request a resource from some URL without authentication.  But in this case, this server script will return an error message due to the missing information i the URLRequest' header.  So, it is here in this code you need to add the custom information into the header to the URLRequest object.  The block of code below shows where, and how, to add a custom field into the header of the URLRequest object.</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Create a url set to the desired server address </span>
<span class="token keyword">if</span> <span class="token keyword">let</span> myUrl<span class="token punctuation">:</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string">&quot;https://lenczes.edumedia.ca/mad9137/httpAuthentication/authRespond.php&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Create the request object passing it the url object </span>
    <span class="token keyword">var</span> myURLRequest<span class="token punctuation">:</span> <span class="token builtin">URLRequest</span> <span class="token operator">=</span> <span class="token function">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> myUrl<span class="token punctuation">)</span> 

    <span class="token comment">// Create authentication credentials as a string converted to utf8 encoded data </span>
    <span class="token keyword">let</span> authString <span class="token operator">=</span> <span class="token string">&quot;seb:myPassword&quot;</span> 
    
    <span class="token keyword">if</span> <span class="token keyword">let</span> utf8String <span class="token operator">=</span> authString<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">.</span><span class="token builtin">Encoding</span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// Convert the unicode data to base 64 bit encoded string</span>
        <span class="token keyword">let</span> base64String <span class="token operator">=</span> utf8String<span class="token punctuation">.</span><span class="token function">base64EncodedString</span><span class="token punctuation">(</span>options<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>rawValue<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        <span class="token comment">// Add the header key &quot;Authorization&quot; with the value of &quot;Basic:&quot; added before our converted data</span>
        myURLRequest<span class="token punctuation">.</span><span class="token function">addValue</span><span class="token punctuation">(</span><span class="token string">&quot;Basic_&quot;</span> <span class="token operator">+</span>  base64String<span class="token punctuation">,</span> forHTTPHeaderField<span class="token punctuation">:</span> <span class="token string">&quot;my-authentication&quot;</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Create the URLSession object that will be used to make the requests</span>
    <span class="token keyword">let</span> mySession<span class="token punctuation">:</span> <span class="token builtin">URLSession</span> <span class="token operator">=</span> <span class="token builtin">URLSession</span><span class="token punctuation">.</span>shared 

    <span class="token comment">// Create a task from the session by passing in your request, and the callback handler </span>
    <span class="token keyword">let</span> myTask <span class="token operator">=</span> mySession<span class="token punctuation">.</span><span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> myURLRequest<span class="token punctuation">,</span> completionHandler<span class="token punctuation">:</span> requestTask <span class="token punctuation">)</span> 

    <span class="token comment">// Tell the task to run </span>
    myTask<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>Any text can be used for the field name and the value; it is the server developer's choice of what header field names and values to check for.  Your application must send the URLRequest with the required header field and value added to it in order for the server to send the correct response data back to your code.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>When the header field &quot;my-authentication&quot; is sent to the server it will be found in the $<em>SERVER[&quot;HTTP_MY_AUTHENTICATION&quot;] variable in the PHP script.  The name is automatically converted by the server to all capitol letters, with '-' changed to '</em>' and &quot;HTTP_&quot; added to the front.</p></div> <p>Header resources are stored as field <strong>keys</strong> with an associated <strong>value</strong>.  The name of the HTTP header field required by this specific server script is called “my-authentication”, and it's value must be “Basic_c2ViOm15UGFzc3dvcmQ=”.</p> <p>This value comes from the string “seb:myPassword” converted to data, and then converted to a base 64 bit string, which will convert the text to “c2ViOm15UGFzc3dvcmQ=”.  That converted string then has the text &quot;Basic_&quot; added to the front of it.  The developer of the server script chose the format of the value that is required by the client application in order to successfully authenticate the request.</p> <p>In the example project provided in this lesson, you will also see how the PHP server script is looking for the specific custom request header field which controls access to the data.  If you try to access the server script without adding the correct field, and value to the header you will get the the PHP script's error message as a response.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>URLRequest header fields are defined as a custom key-value pair of strings in the header of the request object.  This is done using the URLRequest.addValue(“”, forHTTPHeaderField: “”) where the first parameter is the value, and the second is the field key name.</p></div> <p>You can <a href="/F2020/assets/downloads/HttpAuthentication.zip">download the example iOS project here</a>, and you can choose to <a href="/F2020/assets/downloads/HttpAuthenticationServer.zip">download the php server script</a> that works with this example if you want to try to run this example in wamp or mamp.</p> <p><a href="/F2020/modules/week12/#during-class">Back to Week 12</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/12/2020, 5:21:48 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/F2020/assets/js/app.255cbd1a.js" defer></script><script src="/F2020/assets/js/2.6629548a.js" defer></script><script src="/F2020/assets/js/53.114fa10a.js" defer></script>
  </body>
</html>
