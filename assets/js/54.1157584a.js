(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{481:function(e,t,a){"use strict";a.r(t);var i=a(53),s=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"url-request-to-restful-api"}},[e._v("URL Request to RESTful API")]),e._v(" "),a("p",[e._v('This lesson provides you with an understanding of how to use a URL request to make calls to a RESTful API, and how to handle the response that is returned by the server.  This example is using the same "Planets API" used in your Android development.')]),e._v(" "),a("p",[e._v("You can review the structure of this API here: "),a("a",{attrs:{href:"https://lenczes.edumedia.ca/mad9137/pa_api/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://lenczes.edumedia.ca/mad9137/pa_api/"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"api-overview"}},[e._v("API Overview")]),e._v(" "),a("p",[e._v("The URIs that let you communicate with the Planets API are HTTP GET requests which allow you to access the resources from the server.  There are 3 different URI's you can use to access different information about the planets of the solar system.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_all.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_all.php"),a("OutboundLink")],1),e._v("\nThis URI responds by sending you JSON data containing all of the information about all of the planets (with no images)")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://lenczes.edumedia.ca/mad9137/pa_api/planet/read.php?id=3",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://lenczes.edumedia.ca/mad9137/pa_api/planet/read.php?id=3"),a("OutboundLink")],1),e._v("\nThis URI lets you get the JSON data about a specific planet (with no images)")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_img.php?id=3",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_img.php?id=3"),a("OutboundLink")],1),e._v("\nGets raw data for a specific planet's image (needs to be converted to UIImage in Swift)")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("The 3 is replaceable with any number from 1-9 in order to get info about one of the 9 planets.")])]),e._v(" "),a("h2",{attrs:{id:"application-overview"}},[e._v("Application Overview")]),e._v(" "),a("h3",{attrs:{id:"first-view"}},[e._v("First View")]),e._v(" "),a("p",[e._v("The example application provided in this lesson has a tableView with a navigationController embedded in it as it's initial view.  The navigationBar needs to have a barButtonItem labeled “Load”.")]),e._v(" "),a("p",[e._v("The \"Load\" button's action will make a URLRequest to the Planets API to get all the planets' info (https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_all.php).  Then, in the Callback method, the tableView is populated with the names of the 9 planets and the tableView is told to call reloadData() from within the DispatchQueue.main.async{...} method.")]),e._v(" "),a("p",[e._v("The prototype cell in the first view is connected via a segue to the second view of this application.  Clicking on a Cell in the tableView will pass the selected planet's info to the second view.  This will require you passing that planet's dictionary object through the segue.")]),e._v(" "),a("h3",{attrs:{id:"second-view"}},[e._v("Second View")]),e._v(" "),a("p",[e._v("The second viewController class has a dictionary to hold the current planet's JSON data.  Clicking on a cell in the first view's table passes the current planet's JSON data to the second view in the prepareForSegue method.")]),e._v(" "),a("p",[e._v("This second view will be a regular viewController with some textLabels, a textView, and an imageView to display the information, and image for the specific planet selected by the user.")]),e._v(" "),a("p",[e._v('It will set the label and textView with the data from the JSON object.  Then, it will need to run a URLRequest to get the image data.  This requires a URI for the specific planet\'s image by concatenating the planetID value to the end of "https://lenczes.edumedia.ca/mad9137/pa_api/planet/read_img.php?id=".')]),e._v(" "),a("p",[e._v("The callback method uses the DispatchQueue.main.async {} method to update the imageView after processing the image responses from the server.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v('The planetID value is taken from the value for the "id" key stored in the JSON object passed to this view.')])]),e._v(" "),a("p",[e._v("You can "),a("a",{attrs:{href:"/F2020/assets/downloads/URLRequestToRESTfulAPI.zip"}},[e._v("download a copy of this project")]),e._v(" to see how this application works, and how the URIs are created to request the JSON data from the RESTful API.")]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/modules/week12/#during-class"}},[e._v("Back to Week 12")])],1)])}),[],!1,null,null,null);t.default=s.exports}}]);